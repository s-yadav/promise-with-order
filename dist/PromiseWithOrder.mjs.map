{"version":3,"file":"PromiseWithOrder.mjs","sources":["../src/PromiseWithOrder.js"],"sourcesContent":["export default class PromiseWithOrder {\n  constructor() {\n    this.promises = [];\n  }\n  wrap(promise, config) {\n    const {promises} = this;\n    let promiseToTrack = promise;\n    \n    if (config.allowReject) {\n      promiseToTrack = new Promise((resolve) => {\n        promise.then(resolve, resolve);\n      });\n    }\n\n    const orderedPromise = Promise.all([...promises, promise]).then((values) => values.pop())\n\n    //track older promise\n    promises.push(promiseToTrack);\n\n    return orderedPromise;\n  }\n  reset() {\n    this.promise = [];\n  }\n}\n"],"names":["PromiseWithOrder","this","promises","wrap","promise","config","promiseToTrack","allowReject","Promise","resolve","then","orderedPromise","all","values","pop","push","reset"],"mappings":"AAAe,IAAMA,EACnB,WACEC,KAAKC,yBAEPC,cAAKC,EAASC,SACOJ,cACfK,EAAiBF,EAEjBC,EAAOE,cACTD,EAAiB,IAAIE,iBAASC,KACpBC,KAAKD,EAASA,UAIpBE,EAAiBH,QAAQI,IAAIV,UAAcE,KAAUM,cAAMG,UAAWA,EAAOC,eAGnFZ,EAASa,KAAKT,GAEPK,eAETK,iBACEf,KAAKG"}