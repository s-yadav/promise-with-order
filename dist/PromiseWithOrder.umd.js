!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.promiseWithOrder=t()}(this,function(){var e=function(){this.lastPromise=Promise.resolve()};return e.prototype.wrap=function(e,t){void 0===t&&(t={});var n=this.lastPromise,o=new Promise(function(t,o){e.catch(function(){return"do nothing"}),n.then(function(){return e}).then(t,o)});return this.lastPromise=t.allowReject?new Promise(function(t,o){n.then(function(){return e.then(t,t)}).then(t,o)}):o,o},e.prototype.reset=function(){this.lastPromise=Promise.resolve()},e});
